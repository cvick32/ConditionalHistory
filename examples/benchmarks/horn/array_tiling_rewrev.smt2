(set-logic HORN)
(declare-fun inv ((Array Int Int) Int Int Int Int Int) Bool)
(declare-fun fail () Bool)
(assert (forall ((a (Array Int Int)) (i Int) (S Int) (val1 Int) (val2 Int) (low Int))
  (! (=> (and (> S 1) (= val1 7) (= val2 3) (= low 2) (= i (- S 2)))
         (inv a i S val1 val2 low))
     :weight 0)))
(assert (forall ((a (Array Int Int))
         (a1 (Array Int Int))
         (i Int)
         (a2 (Array Int Int))
         (i1 Int)
         (S Int)
         (val1 Int)
         (val2 Int)
         (low Int))
  (! (let ((a!1 (and (inv a i S val1 val2 low)
                     (<= (- 1) i)
                     (= i1 (- i 1))
                     (= a1 (ite (<= 0 i) (store a i val1) a))
                     (= a2 (store a1 (+ i 1) val2)))))
       (=> a!1 (inv a2 i1 S val1 val2 low)))
     :weight 0)))
(assert (forall ((val1 Int)
         (val2 Int)
         (i Int)
         (S Int)
         (low Int)
         (a (Array Int Int))
         (i1 Int))
  (! (let ((a!1 (and (inv a i S val1 val2 low)
                     (not (<= (- 1) i))
                     (<= 0 i1)
                     (< i1 S)
                     (not (<= low (select a i1))))))
       (=> a!1 fail))
     :weight 0)))
(assert (not fail))
(check-sat)
