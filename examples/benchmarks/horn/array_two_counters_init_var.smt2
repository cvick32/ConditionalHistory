(set-logic HORN)
(declare-fun inv ((Array Int Int) (Array Int Int) Int Int Int) Bool)
(declare-fun fail () Bool)
(assert (forall ((a (Array Int Int)) (b (Array Int Int)) (n Int))
  (! (inv a b 0 (- n 1) n) :weight 0)))
(assert (forall ((a (Array Int Int))
         (b (Array Int Int))
         (i Int)
         (j Int)
         (a1 (Array Int Int))
         (b1 (Array Int Int))
         (i1 Int)
         (j1 Int)
         (n Int))
  (! (=> (and (inv a b i j n)
              (< i n)
              (>= j 0)
              (= (store a i i) a1)
              (= (store b j j) b1)
              (= i1 (+ i 1))
              (= j1 (- j 1)))
         (inv a1 b1 i1 j1 n))
     :weight 0)))
(assert (forall ((i Int)
         (j Int)
         (n Int)
         (a (Array Int Int))
         (b (Array Int Int))
         (i1 Int))
  (! (let ((a!1 (and (inv a b i j n)
                     (or (>= i n) (< j 0))
                     (<= 0 i1)
                     (< i1 n)
                     (not (= (select a i1) (select b i1))))))
       (=> a!1 fail))
     :weight 0)))
(assert (not fail))
(check-sat)
